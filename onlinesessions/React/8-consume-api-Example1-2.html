<html>
<head>
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    
    <!--https://github.com/axios/axios -->
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

</head>
<body>
    <div id="app">
    </div>

    <script type='text/babel'>
        /*
        Task Detail
        - Allow user to type a term to search
        - Get Movies data from omdbapi.com
        - Show result in console
        */

        class Movies extends React.Component{
            term = '';
            constructor(props){
                super(props);
                this.state = {movies:[]}
            }
            onSearchChange = (e) => {
                this.term = e.target.value;
            }
            onSearchHandler = () =>{
                var url = "https://www.omdbapi.com/?apikey=b2b65064&s=" + this.term;
                
                axios.get(url)
                .then(r => console.log(r.data.Search))
            }
            
            render(){
                return (
                <div>
                    Moive: <input type="text" onChange={this.onSearchChange} />
                    <button onClick={this.onSearchHandler} >Search</button>
                    <div>
                        Search Result will appear here
                    </div>
                </div>
            );
            }
        }

        //Created a top level component
        function MyApp(){
                
            return (
                <div className="maincontainer">
                    <Movies />
                </div>
            );
        }

        ReactDOM.render(<MyApp />,document.getElementById('app'));
    </script>
</body>
 
</html>
